#!/bin/bash
#──────────────────────────────────────────────────────────────────────────────────────────────────
#
# NAME: Adder
#
# TASK:
#
# ZONE:
#
# MODE:
#
# TYPE:
#
# DONE: ✗
#
#──────────────────────────────────────────────────────────────────────────────────────────────────
. ~/.sources.sh; import --calls --events --signals --states --objects --flow
#──────────────────────────────────────────────────────────────────────────────────────────────────
main()
{
    add_to_git()
    {
            stage="${FUNCNAME}";

            sh_files()
            {
                task="${FUNCNAME}";
                #----------------------------------------------------------------------------------
                cd ${REBUNTU}

                if [ "$(pwd)" = "${REBUNTU}" ]
                then
                    for f in $(find $PWD -name "*.sh" )
                    do
                        if cat "${f}" | grep -qo "DONE: ✓"
                        then
                            git add ${f}
                        fi
                    done
                fi
                #----------------------------------------------------------------------------------
            };

            py_files()
            {
                task="${FUNCNAME}";
                #----------------------------------------------------------------------------------
                cd ${REBUNTU}

                if [ "$(pwd)" = "${REBUNTU}" ]
                then
                    for f in $(find $PWD -name "*.py" )
                    do
                        if cat "${f}" | grep -qo "DONE: ✓"
                        then
                            git add ${f}
                        fi
                    done
                fi
                #----------------------------------------------------------------------------------
            };

        execution --tasks sh_files py_files
    }

    execution --run add_to_git
}

[[ "${BASH_SOURCE[0]}" != "${0}" ]] || header --define && main

#-------------------------------------------------------------------------------------------------#
####        |                                           |                          |              #
#   ########|                                           |                          |              #
#           ############################################|                          |              #
#           #######################################################################|              #
#-------------------------------------------------------------------------------------------------#
